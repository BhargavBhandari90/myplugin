var EquivalentKeyMap=function(){"use strict";function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){var r=e._map,n=e._arrayTreeMap,a=e._objectTreeMap;if(r.has(t))return r.get(t);for(var i=Object.keys(t).sort(),o=Array.isArray(t)?n:a,u=0;u<i.length;u++){var s=i[u];if(void 0===(o=o.get(s)))return;var l=t[s];if(void 0===(o=o.get(l)))return}var c=o.get("_ekm_value");return c?(r.delete(c[0]),c[0]=t,o.set("_ekm_value",c),r.set(t,c),c):void 0}return function(){function l(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),this.clear(),e instanceof l){var r=[];e.forEach(function(e,t){r.push([t,e])}),e=r}if(null!=e)for(var t=0;t<e.length;t++)this.set(e[t][0],e[t][1])}var e,t,r;return e=l,(t=[{key:"set",value:function(e,t){if(null===e||"object"!==c(e))return this._map.set(e,t),this;for(var r=Object.keys(e).sort(),n=[e,t],a=Array.isArray(e)?this._arrayTreeMap:this._objectTreeMap,i=0;i<r.length;i++){var o=r[i];a.has(o)||a.set(o,new l),a=a.get(o);var u=e[o];a.has(u)||a.set(u,new l),a=a.get(u)}var s=a.get("_ekm_value");return s&&this._map.delete(s[0]),a.set("_ekm_value",n),this._map.set(e,n),this}},{key:"get",value:function(e){if(null===e||"object"!==c(e))return this._map.get(e);var t=a(this,e);return t?t[1]:void 0}},{key:"has",value:function(e){return null===e||"object"!==c(e)?this._map.has(e):void 0!==a(this,e)}},{key:"delete",value:function(e){return!!this.has(e)&&(this.set(e,void 0),!0)}},{key:"forEach",value:function(r){var n=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this;this._map.forEach(function(e,t){null!==t&&"object"===c(t)&&(e=e[1]),r.call(a,e,t,n)})}},{key:"clear",value:function(){this._map=new Map,this._arrayTreeMap=new Map,this._objectTreeMap=new Map}},{key:"size",get:function(){return this._map.size}}])&&n(e.prototype,t),r&&n(e,r),l}()}();
