{"version":3,"sources":["@wordpress/api-fetch/src/middlewares/namespace-endpoint.js"],"names":["namespaceAndEndpointMiddleware","options","next","path","namespaceTrimmed","endpointTrimmed","namespace","endpoint","replace"],"mappings":"AAAA;AACA;AACA;AACA,MAAMA,8BAA8B,GAAG,CAAEC,OAAF,EAAWC,IAAX,KAAqB;AAC3D,MAAIC,IAAI,GAAGF,OAAO,CAACE,IAAnB;AACA,MAAIC,gBAAJ,EAAsBC,eAAtB;;AAEA,MACC,OAAOJ,OAAO,CAACK,SAAf,KAA6B,QAA7B,IACA,OAAOL,OAAO,CAACM,QAAf,KAA4B,QAF7B,EAGE;AACDH,IAAAA,gBAAgB,GAAGH,OAAO,CAACK,SAAR,CAAkBE,OAAlB,CAA2B,UAA3B,EAAuC,EAAvC,CAAnB;AACAH,IAAAA,eAAe,GAAGJ,OAAO,CAACM,QAAR,CAAiBC,OAAjB,CAA0B,KAA1B,EAAiC,EAAjC,CAAlB;;AACA,QAAKH,eAAL,EAAuB;AACtBF,MAAAA,IAAI,GAAGC,gBAAgB,GAAG,GAAnB,GAAyBC,eAAhC;AACA,KAFD,MAEO;AACNF,MAAAA,IAAI,GAAGC,gBAAP;AACA;AACD;;AAED,SAAOH,OAAO,CAACK,SAAf;AACA,SAAOL,OAAO,CAACM,QAAf;AAEA,SAAOL,IAAI,CAAE,EACZ,GAAGD,OADS;AAEZE,IAAAA;AAFY,GAAF,CAAX;AAIA,CAxBD;;AA0BA,eAAeH,8BAAf","sourcesContent":["/**\n * @type {import('../types').APIFetchMiddleware}\n */\nconst namespaceAndEndpointMiddleware = ( options, next ) => {\n\tlet path = options.path;\n\tlet namespaceTrimmed, endpointTrimmed;\n\n\tif (\n\t\ttypeof options.namespace === 'string' &&\n\t\ttypeof options.endpoint === 'string'\n\t) {\n\t\tnamespaceTrimmed = options.namespace.replace( /^\\/|\\/$/g, '' );\n\t\tendpointTrimmed = options.endpoint.replace( /^\\//, '' );\n\t\tif ( endpointTrimmed ) {\n\t\t\tpath = namespaceTrimmed + '/' + endpointTrimmed;\n\t\t} else {\n\t\t\tpath = namespaceTrimmed;\n\t\t}\n\t}\n\n\tdelete options.namespace;\n\tdelete options.endpoint;\n\n\treturn next( {\n\t\t...options,\n\t\tpath,\n\t} );\n};\n\nexport default namespaceAndEndpointMiddleware;\n"]}