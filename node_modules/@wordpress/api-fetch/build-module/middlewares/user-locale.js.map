{"version":3,"sources":["@wordpress/api-fetch/src/middlewares/user-locale.js"],"names":["addQueryArgs","hasQueryArg","userLocaleMiddleware","options","next","url","_locale","path"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,YAAT,EAAuBC,WAAvB,QAA0C,gBAA1C;AAEA;AACA;AACA;;AACA,MAAMC,oBAAoB,GAAG,CAAEC,OAAF,EAAWC,IAAX,KAAqB;AACjD,MACC,OAAOD,OAAO,CAACE,GAAf,KAAuB,QAAvB,IACA,CAAEJ,WAAW,CAAEE,OAAO,CAACE,GAAV,EAAe,SAAf,CAFd,EAGE;AACDF,IAAAA,OAAO,CAACE,GAAR,GAAcL,YAAY,CAAEG,OAAO,CAACE,GAAV,EAAe;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAAf,CAA1B;AACA;;AAED,MACC,OAAOH,OAAO,CAACI,IAAf,KAAwB,QAAxB,IACA,CAAEN,WAAW,CAAEE,OAAO,CAACI,IAAV,EAAgB,SAAhB,CAFd,EAGE;AACDJ,IAAAA,OAAO,CAACI,IAAR,GAAeP,YAAY,CAAEG,OAAO,CAACI,IAAV,EAAgB;AAAED,MAAAA,OAAO,EAAE;AAAX,KAAhB,CAA3B;AACA;;AAED,SAAOF,IAAI,CAAED,OAAF,CAAX;AACA,CAhBD;;AAkBA,eAAeD,oBAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { addQueryArgs, hasQueryArg } from '@wordpress/url';\n\n/**\n * @type {import('../types').APIFetchMiddleware}\n */\nconst userLocaleMiddleware = ( options, next ) => {\n\tif (\n\t\ttypeof options.url === 'string' &&\n\t\t! hasQueryArg( options.url, '_locale' )\n\t) {\n\t\toptions.url = addQueryArgs( options.url, { _locale: 'user' } );\n\t}\n\n\tif (\n\t\ttypeof options.path === 'string' &&\n\t\t! hasQueryArg( options.path, '_locale' )\n\t) {\n\t\toptions.path = addQueryArgs( options.path, { _locale: 'user' } );\n\t}\n\n\treturn next( options );\n};\n\nexport default userLocaleMiddleware;\n"]}