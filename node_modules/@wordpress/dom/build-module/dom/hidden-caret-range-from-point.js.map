{"version":3,"sources":["@wordpress/dom/src/dom/hidden-caret-range-from-point.js"],"names":["caretRangeFromPoint","getComputedStyle","hiddenCaretRangeFromPoint","doc","x","y","container","originalZIndex","style","zIndex","originalPosition","position","range"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,mBAAP,MAAgC,0BAAhC;AACA,OAAOC,gBAAP,MAA6B,sBAA7B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,yBAAT,CAAoCC,GAApC,EAAyCC,CAAzC,EAA4CC,CAA5C,EAA+CC,SAA/C,EAA2D;AACzE,QAAMC,cAAc,GAAGD,SAAS,CAACE,KAAV,CAAgBC,MAAvC;AACA,QAAMC,gBAAgB,GAAGJ,SAAS,CAACE,KAAV,CAAgBG,QAAzC;AAEA,QAAM;AAAEA,IAAAA,QAAQ,GAAG;AAAb,MAA0BV,gBAAgB,CAAEK,SAAF,CAAhD,CAJyE,CAMzE;;AACA,MAAKK,QAAQ,KAAK,QAAlB,EAA6B;AAC5BL,IAAAA,SAAS,CAACE,KAAV,CAAgBG,QAAhB,GAA2B,UAA3B;AACA;;AAEDL,EAAAA,SAAS,CAACE,KAAV,CAAgBC,MAAhB,GAAyB,OAAzB;AAEA,QAAMG,KAAK,GAAGZ,mBAAmB,CAAEG,GAAF,EAAOC,CAAP,EAAUC,CAAV,CAAjC;AAEAC,EAAAA,SAAS,CAACE,KAAV,CAAgBC,MAAhB,GAAyBF,cAAzB;AACAD,EAAAA,SAAS,CAACE,KAAV,CAAgBG,QAAhB,GAA2BD,gBAA3B;AAEA,SAAOE,KAAP;AACA","sourcesContent":["/**\n * Internal dependencies\n */\nimport caretRangeFromPoint from './caret-range-from-point';\nimport getComputedStyle from './get-computed-style';\n\n/**\n * Get a collapsed range for a given point.\n * Gives the container a temporary high z-index (above any UI).\n * This is preferred over getting the UI nodes and set styles there.\n *\n * @param {Document}    doc       The document of the range.\n * @param {number}      x         Horizontal position within the current viewport.\n * @param {number}      y         Vertical position within the current viewport.\n * @param {HTMLElement} container Container in which the range is expected to be found.\n *\n * @return {?Range} The best range for the given point.\n */\nexport default function hiddenCaretRangeFromPoint( doc, x, y, container ) {\n\tconst originalZIndex = container.style.zIndex;\n\tconst originalPosition = container.style.position;\n\n\tconst { position = 'static' } = getComputedStyle( container );\n\n\t// A z-index only works if the element position is not static.\n\tif ( position === 'static' ) {\n\t\tcontainer.style.position = 'relative';\n\t}\n\n\tcontainer.style.zIndex = '10000';\n\n\tconst range = caretRangeFromPoint( doc, x, y );\n\n\tcontainer.style.zIndex = originalZIndex;\n\tcontainer.style.position = originalPosition;\n\n\treturn range;\n}\n"]}