{"version":3,"sources":["@wordpress/blocks/src/block-content-provider/index.js"],"names":["createHigherOrderComponent","createContext","RawHTML","serialize","Consumer","Provider","BlockContentProvider","children","innerBlocks","BlockContent","html","isInnerBlocks","withBlockContentContext","OriginalComponent","props","context"],"mappings":";;;AAAA;AACA;AACA;AACA,SAASA,0BAAT,QAA2C,oBAA3C;AACA,SAASC,aAAT,EAAwBC,OAAxB,QAAuC,oBAAvC;AAEA;AACA;AACA;;AACA,SAASC,SAAT,QAA0B,QAA1B;AAEA,MAAM;AAAEC,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,IAAyBJ,aAAa,CAAE,MAAM,CAAE,CAAV,CAA5C;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMK,oBAAoB,GAAG,QAAiC;AAAA,MAA/B;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,GAA+B;;AAC7D,QAAMC,YAAY,GAAG,MAAM;AAC1B;AACA,UAAMC,IAAI,GAAGP,SAAS,CAAEK,WAAF,EAAe;AAAEG,MAAAA,aAAa,EAAE;AAAjB,KAAf,CAAtB,CAF0B,CAI1B;;AACA,WAAO,cAAC,OAAD,QAAWD,IAAX,CAAP;AACA,GAND;;AAQA,SAAO,cAAC,QAAD;AAAU,IAAA,KAAK,EAAGD;AAAlB,KAAmCF,QAAnC,CAAP;AACA,CAVD;AAYA;AACA;AACA;AACA;AACA;AACA;;;AACA,OAAO,MAAMK,uBAAuB,GAAGZ,0BAA0B,CAC9Da,iBAAF,IAAyB;AACxB,SAASC,KAAF,IACN,cAAC,QAAD,QACKC,OAAF,IACD,cAAC,iBAAD,eAAwBD,KAAxB;AAAgC,IAAA,YAAY,EAAGC;AAA/C,KAFF,CADD;AAOA,CAT+D,EAUhE,yBAVgE,CAA1D;AAaP,eAAeT,oBAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { createContext, RawHTML } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { serialize } from '../api';\n\nconst { Consumer, Provider } = createContext( () => {} );\n\n/**\n * An internal block component used in block content serialization to inject\n * nested block content within the `save` implementation of the ancestor\n * component in which it is nested. The component provides a pre-bound\n * `BlockContent` component via context, which is used by the developer-facing\n * `InnerBlocks.Content` component to render block content.\n *\n * @example\n *\n * ```jsx\n * <BlockContentProvider innerBlocks={ innerBlocks }>\n * \t{ blockSaveElement }\n * </BlockContentProvider>\n * ```\n *\n * @param {Object}    props             Component props.\n * @param {WPElement} props.children    Block save result.\n * @param {Array}     props.innerBlocks Block(s) to serialize.\n *\n * @return {WPComponent} Element with BlockContent injected via context.\n */\nconst BlockContentProvider = ( { children, innerBlocks } ) => {\n\tconst BlockContent = () => {\n\t\t// Value is an array of blocks, so defer to block serializer.\n\t\tconst html = serialize( innerBlocks, { isInnerBlocks: true } );\n\n\t\t// Use special-cased raw HTML tag to avoid default escaping\n\t\treturn <RawHTML>{ html }</RawHTML>;\n\t};\n\n\treturn <Provider value={ BlockContent }>{ children }</Provider>;\n};\n\n/**\n * A Higher Order Component used to inject BlockContent using context to the\n * wrapped component.\n *\n * @return {WPComponent} Enhanced component with injected BlockContent as prop.\n */\nexport const withBlockContentContext = createHigherOrderComponent(\n\t( OriginalComponent ) => {\n\t\treturn ( props ) => (\n\t\t\t<Consumer>\n\t\t\t\t{ ( context ) => (\n\t\t\t\t\t<OriginalComponent { ...props } BlockContent={ context } />\n\t\t\t\t) }\n\t\t\t</Consumer>\n\t\t);\n\t},\n\t'withBlockContentContext'\n);\n\nexport default BlockContentProvider;\n"]}